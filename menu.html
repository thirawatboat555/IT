<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡∏£‡πâ‡∏≤‡∏ô‡∏£‡∏¥‡∏°‡∏ó‡∏∏‡πà‡∏á</title>

<style>
body{
margin:0;
font-family:sans-serif;
background:#f4f4f4;
padding-top:70px;
}

/* ===== HEADER ===== */
.header{
position:fixed;
top:0;left:0;right:0;
background:linear-gradient(135deg,#43a047,#8bc34a);
color:white;
display:flex;
align-items:center;
justify-content:space-between;
padding:8px 12px;
z-index:1000;
}

.header-title{
font-size:20px;
font-weight:bold;
text-align:center;
flex:1;
}

.header-right{
display:flex;
gap:6px;
align-items:center;
}

.header-right input{
padding:4px;
border:none;
border-radius:6px;
}

.header-right button{
background:#2e7d32;
color:white;
border:none;
padding:5px 10px;
border-radius:6px;
cursor:pointer;
}

.home-btn{
background:white;
color:#2e7d32;
border:none;
padding:5px 10px;
border-radius:8px;
cursor:pointer;
font-weight:bold;
}

/* ===== MENU ===== */
.menu{
background:white;
margin:10px;
padding:12px;
border-radius:12px;
box-shadow:0 2px 6px rgba(0,0,0,0.15);
cursor:pointer;
}

/* ===== OPTION ===== */
.options{
display:none;
margin-top:10px;
}

.option-btn{
padding:6px 10px;
margin:4px;
border-radius:8px;
border:1px solid #aaa;
cursor:pointer;
}

.selected{
background:#4caf50;
color:white;
border:none;
}

/* ===== CART ===== */
.cart{
position:fixed;
top:70px;
right:10px;
width:260px;
background:white;
border-radius:12px;
box-shadow:0 3px 10px rgba(0,0,0,0.2);
padding:10px;
z-index:999;
}

.cart h3{
margin:0 0 5px 0;
}

.cart-item{
display:flex;
justify-content:space-between;
align-items:center;
margin:4px 0;
font-size:14px;
}

.qty button{
margin:0 2px;
}
</style>
</head>

<body>

<!-- HEADER -->
<div class="header">

<button class="home-btn" onclick="goHome()">üè† ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</button>

<div class="header-title">‚òï ‡∏£‡πâ‡∏≤‡∏ô‡∏£‡∏¥‡∏°‡∏ó‡∏∏‡πà‡∏á</div>

<div class="header-right">
<label>‡πÅ‡∏°‡πà‡∏Ñ‡πâ‡∏≤:</label>
<input type="password" placeholder="‡∏£‡∏´‡∏±‡∏™">
<button onclick="alert('‡πÄ‡∏Ç‡πâ‡∏≤‡πÇ‡∏´‡∏°‡∏î‡πÅ‡∏°‡πà‡∏Ñ‡πâ‡∏≤')">‡πÄ‡∏Ç‡πâ‡∏≤</button>
</div>

</div>

<!-- CART -->
<div class="cart">
<h3>üß∫ ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</h3>
<div id="cartList"></div>
<hr>
<div id="total"></div>
<button onclick="checkout()">‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</button>
</div>
<div id="list"></div>

<script>
const menus=[
["‡∏ä‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß",25],["‡∏ä‡∏≤‡πÑ‡∏ó‡∏¢",25],["‡∏ä‡∏≤‡∏î‡∏≥‡πÄ‡∏¢‡πá‡∏ô",25],
["‡πÇ‡∏≠‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á",25],["‡πÇ‡∏≠‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏¢‡∏Å‡∏•‡πâ‡∏≠",25],
["‡∏Å‡∏≤‡πÅ‡∏ü‡πÄ‡∏ô‡∏™",25],["‡∏Å‡∏≤‡πÅ‡∏ü‡∏î‡∏≥",25],
["‡πÄ‡∏ú‡∏∑‡∏≠‡∏Å",25],["‡πÅ‡∏Ñ‡∏ô‡∏ï‡∏≤‡∏•‡∏π‡∏õ",25],
["‡πÇ‡∏≠‡∏ß‡∏±‡∏•‡∏ï‡∏¥‡∏ô",25],["‡∏ô‡∏°‡∏™‡∏î",25],
["‡πÇ‡∏≠‡∏£‡∏¥‡πÇ‡∏≠‡πâ‡∏ô‡∏°‡∏™‡∏î‡∏õ‡∏±‡πà‡∏ô",30],
["‡πÇ‡∏Å‡πÇ‡∏Å‡πâ",25],["‡πÅ‡∏î‡∏á‡πÇ‡∏ã‡∏î‡∏≤",25],["‡πÅ‡∏î‡∏á‡πÇ‡∏ã‡∏î‡∏≤‡∏°‡∏∞‡∏ô‡∏≤‡∏ß",25],
["‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÇ‡∏ã‡∏î‡∏≤",25],["‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÇ‡∏ã‡∏î‡∏≤‡∏°‡∏∞‡∏ô‡∏≤‡∏ß",25],
["‡∏ö‡∏•‡∏π‡∏Æ‡∏≤‡∏ß‡∏≤‡∏¢",25],["‡∏ö‡∏•‡∏π‡∏Æ‡∏≤‡∏ß‡∏≤‡∏¢‡πÇ‡∏ã‡∏î‡∏≤",25],
["‡πÅ‡∏≠‡∏õ‡πÄ‡∏õ‡∏¥‡πâ‡∏•‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß",25],["‡πÅ‡∏≠‡∏õ‡πÄ‡∏õ‡∏¥‡πâ‡∏•‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÇ‡∏ã‡∏î‡∏≤",25],
["‡∏°‡∏∞‡∏û‡∏£‡πâ‡∏≤‡∏ß",25],["‡∏°‡∏∞‡∏û‡∏£‡πâ‡∏≤‡∏ß‡∏ô‡∏°‡∏™‡∏î",25],
["‡∏™‡∏ï‡∏≠‡πÄ‡∏ö‡∏≠‡∏£‡∏µ‡πà",25],["‡∏™‡∏ï‡∏≠‡πÄ‡∏ö‡∏≠‡∏£‡∏µ‡πà‡πÇ‡∏ã‡∏î‡∏≤",25]
];

const sweets=["0%","25%","50%","75%","100%","125%"];
let cart={};

const list=document.getElementById("list");

menus.forEach(m=>{
const oreo=m[0]==="‡πÇ‡∏≠‡∏£‡∏¥‡πÇ‡∏≠‡πâ‡∏ô‡∏°‡∏™‡∏î‡∏õ‡∏±‡πà‡∏ô";

list.innerHTML+=`
<div class="card">
<div class="menu" onclick="toggle(this)">
<img src="https://picsum.photos/200?${Math.random()}">
<div><b>${m[0]}</b><br>${m[1]} ‡∏ö‡∏≤‡∏ó</div>
</div>

<div class="panel">
<b>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ß‡∏≤‡∏ô</b><br>
${sweets.map(s=>`<span class="block sweet" onclick="pick(this,'sweet')">${s}</span>`).join("")}
<br><br><b>‡∏ä‡∏ô‡∏¥‡∏î</b><br>
<span class="block type" onclick="pick(this,'type')">‡πÄ‡∏¢‡πá‡∏ô</span>
<span class="block type ${oreo?'disabled':''}" onclick="pick(this,'type')">‡πÅ‡∏¢‡∏Å‡∏ô‡πâ‡∏≥</span>
<span class="block type ${oreo?'disabled':''}" data-extra="5" onclick="pick(this,'type')">‡∏õ‡∏±‡πà‡∏ô +5</span>

<button class="add" onclick="addItem(this,'${m[0]}',${m[1]})">‡πÄ‡∏û‡∏¥‡πà‡∏°</button>
</div>
</div>`;
});

function toggle(menu){
document.querySelectorAll(".panel").forEach(p=>{
if(p!==menu.nextElementSibling){
p.style.display="none";
p.querySelectorAll(".block").forEach(b=>b.classList.remove("active"));
}
});
menu.nextElementSibling.style.display=
menu.nextElementSibling.style.display==="block"?"none":"block";
}

function pick(el,type){
if(el.classList.contains("disabled")) return;
if(el.classList.contains("active")){
el.classList.remove("active");
return;
}
const p=el.closest(".panel");
p.querySelectorAll("."+type).forEach(b=>b.classList.remove("active"));
el.classList.add("active");
}

function addItem(btn,name,price){
const p=btn.parentElement;
const sweet=p.querySelector(".sweet.active");
const type=p.querySelector(".type.active");
if(!sweet||!type) return;

const extra=type.dataset.extra?Number(type.dataset.extra):0;
const totalPrice=price+extra;

const key=name+"|"+sweet.textContent+"|"+type.textContent;
cart[key] ??= {name,sweet:sweet.textContent,type:type.textContent,price:totalPrice,qty:0};
cart[key].qty++;

renderCart();
p.style.display="none";
p.querySelectorAll(".block").forEach(b=>b.classList.remove("active"));
}

function change(key,val){
cart[key].qty+=val;
if(cart[key].qty<=0) delete cart[key];
renderCart();
}

function renderCart(){
const box=document.getElementById("cartList");
const sum=document.getElementById("cartSummary");
box.innerHTML="";
let tq=0,tp=0;

Object.values(cart).forEach(i=>{
tq+=i.qty;
tp+=i.qty*i.price;

box.innerHTML+=`
<div class="cart-item">
<div class="cart-name">${i.name}</div>
<div class="cart-detail">‡∏´‡∏ß‡∏≤‡∏ô ${i.sweet} ‚Ä¢ ${i.type}</div>
<div class="cart-detail">${i.qty} x ${i.price} ‡∏ö‡∏≤‡∏ó</div>
<div class="qty">
<button class="minus" onclick="change('${i.name}|${i.sweet}|${i.type}',-1)">‚ûñ</button>
<button onclick="change('${i.name}|${i.sweet}|${i.type}',1)">‚ûï</button>
</div>
</div>`;
});

sum.innerHTML=tq?`‡∏£‡∏ß‡∏° ${tq} ‡πÅ‡∏Å‡πâ‡∏ß<br>‡∏£‡∏ß‡∏° ${tp} ‡∏ö‡∏≤‡∏ó`:"";
}

function checkout(){
if(Object.keys(cart).length===0){
alert("‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤");
return;
}
let msg="‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠\n\n";
let total=0;
Object.values(cart).forEach(i=>{
msg+=`${i.name}\n- ‡∏´‡∏ß‡∏≤‡∏ô ${i.sweet}\n- ${i.type}\n${i.qty} x ${i.price} ‡∏ö‡∏≤‡∏ó\n\n`;
total+=i.qty*i.price;
});
msg+=`‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ${total} ‡∏ö‡∏≤‡∏ó`;
alert(msg);
}
</script>

</body>
</html>
