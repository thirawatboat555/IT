<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡∏£‡πâ‡∏≤‡∏ô‡∏£‡∏¥‡∏°‡∏ó‡∏∏‡πà‡∏á</title>

<style>
body{
margin:0;
font-family:sans-serif;
background:#f4f4f4;
padding-top:70px;
}

/* ===== HEADER ===== */
.header{
position:fixed;
top:0;left:0;right:0;
background:linear-gradient(135deg,#43a047,#8bc34a);
color:white;
display:flex;
align-items:center;
justify-content:space-between;
padding:8px 12px;
z-index:1000;
}

.header-title{
font-size:20px;
font-weight:bold;
text-align:center;
flex:1;
}

.header-right{
display:flex;
gap:6px;
align-items:center;
}

.header-right input{
padding:4px;
border:none;
border-radius:6px;
}

.header-right button{
background:#2e7d32;
color:white;
border:none;
padding:5px 10px;
border-radius:6px;
cursor:pointer;
}

.home-btn{
background:white;
color:#2e7d32;
border:none;
padding:5px 10px;
border-radius:8px;
cursor:pointer;
font-weight:bold;
}

/* ===== MENU ===== */
.menu{
background:white;
margin:10px;
padding:12px;
border-radius:12px;
box-shadow:0 2px 6px rgba(0,0,0,0.15);
cursor:pointer;
}

/* ===== OPTION ===== */
.options{
display:none;
margin-top:10px;
}

.option-btn{
padding:6px 10px;
margin:4px;
border-radius:8px;
border:1px solid #aaa;
cursor:pointer;
}

.selected{
background:#4caf50;
color:white;
border:none;
}

/* ===== CART ===== */
.cart{
position:fixed;
top:70px;
right:10px;
width:260px;
background:white;
border-radius:12px;
box-shadow:0 3px 10px rgba(0,0,0,0.2);
padding:10px;
z-index:999;
}

.cart h3{
margin:0 0 5px 0;
}

.cart-item{
display:flex;
justify-content:space-between;
align-items:center;
margin:4px 0;
font-size:14px;
}

.qty button{
margin:0 2px;
}
</style>
</head>

<body>

<!-- HEADER -->
<div class="header">

<button class="home-btn" onclick="goHome()">üè† ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</button>

<div class="header-title">‚òï ‡∏£‡πâ‡∏≤‡∏ô‡∏£‡∏¥‡∏°‡∏ó‡∏∏‡πà‡∏á</div>

<div class="header-right">
<label>‡πÅ‡∏°‡πà‡∏Ñ‡πâ‡∏≤:</label>
<input type="password" placeholder="‡∏£‡∏´‡∏±‡∏™">
<button onclick="alert('‡πÄ‡∏Ç‡πâ‡∏≤‡πÇ‡∏´‡∏°‡∏î‡πÅ‡∏°‡πà‡∏Ñ‡πâ‡∏≤')">‡πÄ‡∏Ç‡πâ‡∏≤</button>
</div>

</div>

<!-- CART -->
<div class="cart">
<h3>üß∫ ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</h3>
<div id="cartList"></div>
<hr>
<div id="total"></div>
<button onclick="checkout()">‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</button>
</div>

<!-- MENU LIST -->
<div id="menuList"></div>

<script>

const menus=[
{name:"‡∏ä‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß",price:25},
{name:"‡∏ä‡∏≤‡πÑ‡∏ó‡∏¢",price:25},
{name:"‡∏ä‡∏≤‡∏î‡∏≥‡πÄ‡∏¢‡πá‡∏ô",price:25},
{name:"‡πÇ‡∏≠‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á",price:25},
{name:"‡πÇ‡∏Å‡πÇ‡∏Å‡πâ",price:30},
{name:"‡∏ô‡∏°‡∏™‡∏î",price:30},
{name:"‡πÇ‡∏≠‡∏£‡∏µ‡πÇ‡∏≠‡πâ",price:35}
];

let currentMenu=null;
let selectedSweet=null;
let selectedType=null;
let cart=[];

/* ===== CREATE MENU ===== */
const menuList=document.getElementById("menuList");

menus.forEach((m,i)=>{
menuList.innerHTML+=`
<div class="menu" onclick="openMenu(${i})">
<b>${m.name}</b><br>${m.price} ‡∏ö‡∏≤‡∏ó

<div class="options" id="opt${i}">
<div>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ß‡∏≤‡∏ô:</div>
${[0,25,50,75,100,125].map(v=>
`<button class="option-btn" onclick="selectSweet(event,${i},${v})">${v}</button>`
).join("")}

<div>‡∏ä‡∏ô‡∏¥‡∏î:</div>
<button class="option-btn" onclick="selectType(event,${i},'‡πÄ‡∏¢‡πá‡∏ô')">‡πÄ‡∏¢‡πá‡∏ô</button>
<button class="option-btn" onclick="selectType(event,${i},'‡∏õ‡∏±‡πà‡∏ô')">‡∏õ‡∏±‡πà‡∏ô</button>

<br><br>
<button onclick="addCart(${i})">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</button>
</div>
</div>
`;
});

/* ===== MENU OPEN ===== */
function openMenu(i){
document.querySelectorAll(".options").forEach(o=>o.style.display="none");
resetSelect();
document.getElementById("opt"+i).style.display="block";
currentMenu=i;
}

/* ===== SELECT ===== */
function selectSweet(e,i,val){
e.stopPropagation();
if(selectedSweet===val){
selectedSweet=null;
e.target.classList.remove("selected");
return;
}
document.querySelectorAll("#opt"+i+" .option-btn")
.forEach(b=>{ if(!isNaN(b.innerText)) b.classList.remove("selected");});
e.target.classList.add("selected");
selectedSweet=val;
}

function selectType(e,i,val){
e.stopPropagation();
if(selectedType===val){
selectedType=null;
e.target.classList.remove("selected");
return;
}
document.querySelectorAll("#opt"+i+" .option-btn")
.forEach(b=>{
if(b.innerText==="‡πÄ‡∏¢‡πá‡∏ô"||b.innerText==="‡∏õ‡∏±‡πà‡∏ô")
b.classList.remove("selected");
});
e.target.classList.add("selected");
selectedType=val;
}

/* ===== ADD CART ===== */
function addCart(i){
if(selectedSweet==null||selectedType==null){
alert("‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ß‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏ä‡∏ô‡∏¥‡∏î‡∏Å‡πà‡∏≠‡∏ô");
return;
}

let itemName=
`${menus[i].name} (${selectedSweet}% ${selectedType})`;

let found=cart.find(c=>c.name===itemName);

if(found) found.qty++;
else cart.push({name:itemName,price:menus[i].price,qty:1});

renderCart();
resetSelect();
document.getElementById("opt"+i).style.display="none";
}

/* ===== CART ===== */
function renderCart(){
let html="";
let total=0;
let count=0;

cart.forEach((c,idx)=>{
total+=c.price*c.qty;
count+=c.qty;

html+=`
<div class="cart-item">
${c.name}
<div class="qty">
<button onclick="minus(${idx})">-</button>
${c.qty}
<button onclick="plus(${idx})">+</button>
</div>
</div>`;
});

document.getElementById("cartList").innerHTML=html;
document.getElementById("total").innerHTML=
`‡∏£‡∏ß‡∏° ${count} ‡πÅ‡∏Å‡πâ‡∏ß | ${total} ‡∏ö‡∏≤‡∏ó`;
}

function plus(i){
cart[i].qty++;
renderCart();
}

function minus(i){
cart[i].qty--;
if(cart[i].qty<=0) cart.splice(i,1);
renderCart();
}

/* ===== RESET ===== */
function resetSelect(){
selectedSweet=null;
selectedType=null;
document.querySelectorAll(".option-btn")
.forEach(b=>b.classList.remove("selected"));
}

/* ===== HOME ===== */
function goHome(){
window.scrollTo({top:0,behavior:"smooth"});
}

/* ===== QR ===== */
function checkout(){
if(cart.length===0){
alert("‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£");
return;
}
alert("‡πÅ‡∏™‡∏î‡∏á QR Code (‡∏ï‡πà‡∏≠‡∏¢‡∏≠‡∏î‡πÑ‡∏î‡πâ)");
}

</script>

</body>
</html>
